{% extends 'navBar.html' %}
{% block title %}
  {{ 'Gestion' }}
{% endblock %}

{% block contentN %}


<div class="container-fluid bg-secondary-color p-4 mx-auto w-50 ">

  <div class="row">

    <!-- Columna para Nombres, Cedula, ID Desarrollo, ID Contrato, Valor Contrato -->
    <div class="col-lg-6">
        <div class="p-2">
            <div class="row align-items-start">
                <div class="col-lg-12 mb-3">
                    <label class="input-group-text">Nombres</label>
                    <input type="text" aria-label="Nombres" class="form-control">
                </div>
                <div class="col-lg-12 mb-3">
                    <span class="input-group-text">Cedula</span>
                    <input type="text" aria-label="Cedula" class="form-control">
                </div>
                <div class="col-lg-12 mb-3">
                  <span class="input-group-text">Valor contrato</span>
                  <input type="text" aria-label="Valor contrato" class="form-control">
              </div>
                <div class="col-lg-6 mb-3">
                    <span class="input-group-text">ID Contrato</span>
                    <input type="text" aria-label="ID Contrato" class="form-control">
                </div>
                <div class="col-lg-6 mb-3">
                  <span class="input-group-text">ID Desarrollo</span>
                  <input type="text" aria-label="ID Desarrollo" class="form-control">
              </div>
                
            </div>
        </div>
    </div>


    <!-- Columna para Fechas -->
    <div class="col-lg-6">
        <div class="p-3">
            <label for="fechasub" class="input-group-text">Fecha subcripción</label>
            <input class="form-control mb-2" type="date">
            <label for="fechainicio" class="input-group-text">Fecha inicio</label>
            <input class="form-control mb-2" type="date">
            <label for="fechaTerminacion" class="input-group-text">Fecha terminación</label>
            <input class="form-control" type="date">
        </div>
    </div>

    <!-- Columna para Tipo de Contrato -->

    <div class="col-6 ">
        <div class="p-3 col-12 bg-light ">
            <label for="tipoContrato" class="input-group-text">Tipo de contrato</label>
            <select class="form-select" aria-label="tipo de contrato" id="tipoContrato">
                <option selected="">Selecciona...</option>
                <option value="indefinido">Contrato Indefinido</option>
                <option value="temporal">Contrato Temporal</option>
                <option value="practicas">Contrato en Prácticas</option>
                <option value="formacion">Contrato de Formación</option>
                <option value="servicios">Contrato de prestación de servicios</option>
            </select>
        </div>
    </div><!-- Columna para Actividades -->
    <div class="col-lg-6">
        <div class="p-3 bg-white">
            <label for="actividades" class="input-group-text">Selecciona una actividad:</label>
            <select class="form-select" aria-label="tipo de contrato" id="actividades">
                <option value="Actividad 1">Actividad 1</option>
                <option value="Actividad 2">Actividad 2</option>
                <option value="Actividad 3">Actividad 3</option>
            </select>
            <button type="button" class="btn btn-primary btn-sm" onclick="agregarActividad()">Añadir Actividad</button>

            <br>
          
            <label for="inputActividades">Actividades Seleccionadas:</label>
            <div id="actividadesContainer">
              <!-- Las actividades seleccionadas se mostrarán aquí -->
            </div>
        </div>
        
    </div>

</div>



  <script>
    function agregarActividad() {
      var tipoContrato = document.getElementById('actividades')
      var actividadesContainer = document.getElementById('actividadesContainer')
    
      // Obtener la actividad seleccionada
      var actividadSeleccionada = tipoContrato.options[tipoContrato.selectedIndex].text
    
      // Verificar si la actividad ya está en el contenedor
      if (!contieneActividad(actividadSeleccionada)) {
        // Crear un contenedor para la actividad con un botón de eliminación
        var actividadContainer = document.createElement('div')
        actividadContainer.className = 'col-lg-2 border border-primary'
        actividadContainer.innerHTML = actividadSeleccionada + '<type="button" class="btn-close" aria-label="Close" onclick="eliminarActividad(this)"></button>'
        actividadesContainer.appendChild(actividadContainer)
      }
    }
    
    function contieneActividad(actividad) {
      var actividadesContainer = document.getElementById('actividadesContainer')
      var actividades = actividadesContainer.getElementsByTagName('div')
    
      for (var i = 0; i < actividades.length; i++) {
        if (actividades[i].textContent.includes(actividad)) {
          // La actividad ya está en el contenedor
          return true
        }
      }
      // La actividad no está en el contenedor
      return false
    }
    
    function eliminarActividad(btn) {
      var actividadesContainer = document.getElementById('actividadesContainer')
    
      // Eliminar el contenedor de la actividad
      actividadesContainer.removeChild(btn.parentNode)
    }
  </script>
{% endblock %}
